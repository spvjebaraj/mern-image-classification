(this["webpackJsonpimage-classification"]=this["webpackJsonpimage-classification"]||[]).push([[0],{313:function(e,t,a){},314:function(e,t,a){},315:function(e,t,a){},316:function(e,t,a){},318:function(e,t,a){},319:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(80),c=a.n(s),l=a(6),i=a.n(l),o=a(18),u=a(14),m=a(9),d=function(e,t,a){var s=r.a.createContext();return{Context:s,Provider:function(c){var l=c.children,i=Object(n.useReducer)(e,a),o=Object(m.a)(i,2),d=o[0],p=o[1],f={};for(var E in t)f[E]=t[E](p);return r.a.createElement(s.Provider,{value:Object(u.a)({state:d},f)},l)}}},p=a(81),f=a.n(p).a.create({baseURL:"http://localhost:5000"});f.interceptors.request.use((function(e){var t=window.sessionStorage.getItem("userToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(function(e){return Promise.reject(e)}));var E=f,g=d((function(e,t){switch(t.type){case"ADD_ERROR":return Object(u.a)({},e,{errorMessage:t.payload});case"RESTORE_TOKEN":return{isAuthenticated:!0,errorMessage:"",userToken:t.payload};case"SIGN_IN":case"SIGN_UP":return{isAuthenticated:!0,errorMessage:"",isSignout:!1,userToken:t.payload};case"SIGN_OUT":return{isAuthenticated:!1,errorMessage:"",isSignout:!0,userToken:null};default:return e}}),{restoreToken:function(e){return function(t){window.sessionStorage.setItem("userToken",t),e({type:"RESTORE_TOKEN",payload:t})}},signIn:function(e){return function(){var t=Object(o.a)(i.a.mark((function t(a){var n,r,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.email,r=a.password,t.prev=1,t.next=4,E.post("/users/signin",{email:n,password:r});case 4:s=t.sent,window.sessionStorage.setItem("userToken",s.data.token),e({type:"SIGN_IN",payload:s.data.token}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e({type:"ADD_ERROR",payload:t.t0.response.data.error});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},signUp:function(e){return function(){var t=Object(o.a)(i.a.mark((function t(a){var n,r,s,c,l;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.name,r=a.email,s=a.password,t.prev=1,t.next=4,E.post("/users/signup",{name:n,email:r,password:s});case 4:c=t.sent,window.sessionStorage.setItem("userToken",c.data.token),e({type:"SIGN_UP",payload:c.data.token}),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(1),(l=t.t0.response.data.error).includes("duplicate")?l="Email already exists. Please choose different.":l.includes("minimum")&&(l="Password must be minimum of 7 characters"),e({type:"ADD_ERROR",payload:l});case 14:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},signOut:function(e){return Object(o.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.post("/users/logout");case 3:window.sessionStorage.removeItem("userToken"),e({type:"SIGN_OUT"}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e({type:"ADD_ERROR",payload:t.t0.response.data.error});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))}},{isAuthenticated:!1,errorMessage:"",isSignout:!1,userToken:null}),v=g.Context,h=g.Provider,b=d((function(e,t){switch(t.type){case"ADD_ERROR":return Object(u.a)({},e,{errorMessage:t.payload});case"FETCHING_DETAILS":return Object(u.a)({},e,{errorMessage:"",isLoading:!0});case"FETCHING_DETAILS_SUCCESS":return Object(u.a)({},e,{errorMessage:"",isLoading:!1});case"GET_IMAGE_DETAILS":return{errorMessage:"",classification:t.payload};default:return e}}),{getImageDetails:function(e){return function(){var t=Object(o.a)(i.a.mark((function t(a){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.url,t.prev=1,e({type:"FETCHING_DETAILS"}),t.next=5,E.post("/imageurl",{url:n});case 5:r=t.sent,e({type:"GET_IMAGE_DETAILS",payload:r.data.classification}),e({type:"FETCHING_DETAILS_SUCCESS"}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0.response.data),e({type:"ADD_ERROR",payload:t.t0.response.data.error});case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}},{isLoading:!1,classification:null,errorMessage:""}),w=b.Context,N=b.Provider,y=a(82),S=a.n(y),O=(a(313),function(e){var t=e.isAuthenticated,a=e.userToken,n=e.onRouteChange;return t&&null!==a?r.a.createElement("nav",{className:"navbar"},r.a.createElement("p",{className:"nav-text"},"IMAGE CLASSIFICATION"),r.a.createElement("ul",{className:"nav-links"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("p",{onClick:function(){return n("signout")}},"SignOut")))):r.a.createElement("nav",{className:"navbar"},r.a.createElement("p",{className:"nav-text"},"IMAGE CLASSIFICATION"),r.a.createElement("ul",{className:"nav-links"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("p",{onClick:function(){return n("signin")}},"SignIn")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("p",{onClick:function(){return n("signup")}},"SignUp"))))}),k=(a(314),a(315),function(e){var t=e.classifications;return r.a.createElement(r.a.Fragment,null,r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Probability"),r.a.createElement("th",{scope:"col"},"Percentage"))),r.a.createElement("tbody",null,t.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("th",{scope:"row"},t+1),r.a.createElement("td",null,e.className),r.a.createElement("td",null,e.probability),r.a.createElement("td",null,100*e.probability,"%"))})))))}),I=function(e){var t=e.classification,a=e.imageUrl;return""!==a&&null!==t?r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"image-container"},r.a.createElement("img",{id:"inputimage",alt:"",src:a,width:"400px",heigh:"auto"})),r.a.createElement("div",{className:"table-container"},r.a.createElement(k,{classifications:t}))):null},T=a(83),C=a.n(T),A=function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],s=t[1],c=Object(n.useContext)(w),l=c.state,i=l.isLoading,o=l.classification,u=c.getImageDetails;return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"form-heading"},"This App will detect the image and share the details. Give it a try."),r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"center form-container"},r.a.createElement("input",{className:"form-input center",type:"text",value:a,onChange:function(e){return s(e.target.value)}}),r.a.createElement("button",{className:"form-button",onClick:function(){return u({url:a})}},"Detect"))),r.a.createElement("div",{className:"center"},r.a.createElement(I,{classification:o,imageUrl:a})),i?r.a.createElement("div",{className:"center"},r.a.createElement(C.a,{type:"spin",color:"#fff"})):null)},j=(a(79),function(){var e=Object(n.useContext)(v),t=e.signIn,a=e.state.errorMessage,s=Object(n.useState)(""),c=Object(m.a)(s,2),l=c[0],i=c[1],o=Object(n.useState)(""),u=Object(m.a)(o,2),d=u[0],p=u[1];return r.a.createElement("div",{className:"auth-container center"},r.a.createElement("main",{className:"main-padding"},r.a.createElement("fieldset",null,r.a.createElement("legend",{className:"container-legend"},"Sign In"),r.a.createElement("div",{className:"field-mt"},r.a.createElement("label",{className:"field-lbl",htmlFor:"email-address"},"Email"),r.a.createElement("input",{className:"field-input",type:"email",name:"email-address",id:"email-address",value:l,onChange:function(e){return i(e.target.value)}})),r.a.createElement("div",{className:"field-mb"},r.a.createElement("label",{className:"field-lbl",htmlFor:"password"},"Password"),r.a.createElement("input",{className:"field-input",type:"password",name:"password",id:"password",value:d,onChange:function(e){return p(e.target.value)}}))),r.a.createElement("div",null,r.a.createElement("input",{onClick:function(){return t({email:l,password:d})},className:"auth-button",type:"submit",value:"Sign in"})),a?r.a.createElement("div",{style:{marginTop:"5px",fontSize:"20px"}},a):null))}),x=function(){var e=Object(n.useContext)(v),t=e.signUp,a=e.state.errorMessage,s=Object(n.useState)(""),c=Object(m.a)(s,2),l=c[0],i=c[1],o=Object(n.useState)(""),u=Object(m.a)(o,2),d=u[0],p=u[1],f=Object(n.useState)(""),E=Object(m.a)(f,2),g=E[0],h=E[1];return r.a.createElement("div",{className:"auth-container center"},r.a.createElement("main",{className:"main-padding"},r.a.createElement("fieldset",null,r.a.createElement("legend",{className:"container-legend"},"Sign Up"),r.a.createElement("div",{className:"field-mt"},r.a.createElement("label",{className:"field-lbl",htmlFor:"name"},"Name"),r.a.createElement("input",{className:"field-input",type:"text",name:"name",id:"name",value:l,onChange:function(e){return i(e.target.value)}})),r.a.createElement("div",{className:"field-mt"},r.a.createElement("label",{className:"field-lbl",htmlFor:"email-address"},"Email"),r.a.createElement("input",{className:"field-input",type:"email",name:"email-address",id:"email-address",value:d,onChange:function(e){return p(e.target.value)}})),r.a.createElement("div",{className:"field-mb"},r.a.createElement("label",{className:"field-lbl",htmlFor:"password"},"Password"),r.a.createElement("input",{className:"field-input",type:"password",name:"password",id:"password",value:g,onChange:function(e){return h(e.target.value)}}))),r.a.createElement("div",null,r.a.createElement("input",{onClick:function(){return t({name:l,email:d,password:g})},className:"auth-button",type:"submit",value:"Sign up"})),a?r.a.createElement("div",{style:{marginTop:"5px",fontSize:"20px"}},a):null))},R=(a(316),{particles:{number:{value:30,density:{enable:!0,value_area:800}}}}),_=function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],s=t[1],c=Object(n.useContext)(v),l=c.state,i=l.isAuthenticated,o=l.userToken,u=c.restoreToken,d=c.signOut;return Object(n.useEffect)((function(){!function(){try{var e=window.sessionStorage.getItem("userToken");u(e)}catch(t){console.log(t)}}()}),[]),r.a.createElement("div",{className:"App"},r.a.createElement(S.a,{className:"particles",params:R}),r.a.createElement(O,{userToken:o,isAuthenticated:i,onRouteChange:function(e){"home"===e||"signin"===e||"signup"===e?s(e):"signout"===e&&d()}}),null!==o?r.a.createElement(A,null):"signin"===a?r.a.createElement(j,null):r.a.createElement(x,null))},D=function(){return r.a.createElement(N,null,r.a.createElement(h,null,r.a.createElement(_,null)))},G=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(D,null))},M=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function U(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a(317),a(318);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(G,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");M?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):U(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):U(t,e)}))}}()},79:function(e,t,a){},84:function(e,t,a){e.exports=a(319)}},[[84,1,2]]]);
//# sourceMappingURL=main.bebc2bdf.chunk.js.map